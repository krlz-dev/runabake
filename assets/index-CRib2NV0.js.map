{"version":3,"file":"index-CRib2NV0.js","sources":["../../src/infrastructure/babylon/BabylonEngine.ts","../../src/infrastructure/babylon/InputManager.ts","../../src/presentation/scenes/GameScene.ts","../../src/domain/value-objects/Stats.ts","../../src/domain/value-objects/Position.ts","../../src/domain/entities/Character.ts","../../src/shared/constants/GameConstants.ts","../../src/main.ts"],"sourcesContent":["import { Engine, Scene, HemisphericLight, Vector3, ArcRotateCamera, Color4 } from '@babylonjs/core';\n\n/**\n * Wrapper for Babylon.js Engine\n * Abstracts engine initialization and basic scene setup\n */\nexport class BabylonEngine {\n  private engine: Engine | null = null;\n  private canvas: HTMLCanvasElement | null = null;\n\n  /**\n   * Initialize Babylon.js engine with a canvas\n   */\n  initialize(canvas: HTMLCanvasElement): Engine {\n    this.canvas = canvas;\n    this.engine = new Engine(canvas, true, {\n      preserveDrawingBuffer: true,\n      stencil: true,\n      antialias: true,\n    });\n\n    // Handle window resize\n    window.addEventListener('resize', () => {\n      this.engine?.resize();\n    });\n\n    return this.engine;\n  }\n\n  /**\n   * Create a basic scene with default lighting and camera\n   */\n  createScene(): Scene {\n    if (!this.engine) {\n      throw new Error('Engine not initialized. Call initialize() first.');\n    }\n\n    const scene = new Scene(this.engine);\n    scene.clearColor = new Color4(0.5, 0.7, 0.9, 1.0); // Sky blue\n\n    // Add default lighting\n    const light = new HemisphericLight('defaultLight', new Vector3(0, 1, 0), scene);\n    light.intensity = 0.7;\n\n    // Add default camera (positioned to view from above/behind)\n    const camera = new ArcRotateCamera(\n      'defaultCamera',\n      -Math.PI / 2,\n      Math.PI / 4,\n      15,\n      Vector3.Zero(),\n      scene\n    );\n    // Don't attach controls - we'll handle input manually\n    camera.attachControl(this.canvas, false);\n\n    // Remove keyboard input from camera (we handle it manually)\n    if (camera.inputs.attached['keyboard']) {\n      camera.inputs.remove(camera.inputs.attached['keyboard']);\n    }\n\n    return scene;\n  }\n\n  /**\n   * Start the render loop\n   */\n  startRenderLoop(scene: Scene, onUpdate?: (deltaTime: number) => void): void {\n    if (!this.engine) {\n      throw new Error('Engine not initialized.');\n    }\n\n    let lastTime = performance.now();\n\n    this.engine.runRenderLoop(() => {\n      const currentTime = performance.now();\n      const deltaTime = (currentTime - lastTime) / 1000; // Convert to seconds\n      lastTime = currentTime;\n\n      if (onUpdate) {\n        onUpdate(deltaTime);\n      }\n\n      scene.render();\n    });\n  }\n\n  /**\n   * Get the current engine instance\n   */\n  getEngine(): Engine | null {\n    return this.engine;\n  }\n\n  /**\n   * Get the canvas element\n   */\n  getCanvas(): HTMLCanvasElement | null {\n    return this.canvas;\n  }\n\n  /**\n   * Clean up resources\n   */\n  dispose(): void {\n    this.engine?.dispose();\n    this.engine = null;\n    this.canvas = null;\n  }\n}\n","import { Scene } from '@babylonjs/core';\n\n/**\n * Input state for keyboard and mouse\n */\nexport interface IInputState {\n  // Movement keys\n  forward: boolean;\n  backward: boolean;\n  left: boolean;\n  right: boolean;\n\n  // Actions\n  jump: boolean;\n  sprint: boolean;\n  interact: boolean;\n\n  // Mouse\n  mouseX: number;\n  mouseY: number;\n  mouseLeftClick: boolean;\n  mouseRightClick: boolean;\n}\n\n/**\n * Manages keyboard and mouse input\n * Provides a clean interface for checking input state\n */\nexport class InputManager {\n  private inputState: IInputState;\n  private scene: Scene;\n  private keyMap: Map<string, boolean>;\n\n  constructor(scene: Scene) {\n    this.scene = scene;\n    this.keyMap = new Map();\n    this.inputState = {\n      forward: false,\n      backward: false,\n      left: false,\n      right: false,\n      jump: false,\n      sprint: false,\n      interact: false,\n      mouseX: 0,\n      mouseY: 0,\n      mouseLeftClick: false,\n      mouseRightClick: false,\n    };\n\n    this.initializeListeners();\n  }\n\n  /**\n   * Initialize keyboard and mouse event listeners\n   */\n  private initializeListeners(): void {\n    // Keyboard events\n    this.scene.onKeyboardObservable.add((kbInfo) => {\n      const key = kbInfo.event.key.toLowerCase();\n      const isPressed = kbInfo.type === 1; // 1 = KEYDOWN, 2 = KEYUP\n\n      this.keyMap.set(key, isPressed);\n      this.updateInputState();\n    });\n\n    // Mouse events\n    this.scene.onPointerObservable.add((pointerInfo) => {\n      switch (pointerInfo.type) {\n        case 1: // POINTERDOWN\n          if (pointerInfo.event.button === 0) {\n            this.inputState.mouseLeftClick = true;\n          } else if (pointerInfo.event.button === 2) {\n            this.inputState.mouseRightClick = true;\n          }\n          break;\n        case 2: // POINTERUP\n          if (pointerInfo.event.button === 0) {\n            this.inputState.mouseLeftClick = false;\n          } else if (pointerInfo.event.button === 2) {\n            this.inputState.mouseRightClick = false;\n          }\n          break;\n        case 4: // POINTERMOVE\n          this.inputState.mouseX = pointerInfo.event.clientX;\n          this.inputState.mouseY = pointerInfo.event.clientY;\n          break;\n      }\n    });\n  }\n\n  /**\n   * Update input state based on key map\n   */\n  private updateInputState(): void {\n    // Movement (WASD + Arrow keys)\n    this.inputState.forward = this.isKeyPressed('w') || this.isKeyPressed('arrowup');\n    this.inputState.backward = this.isKeyPressed('s') || this.isKeyPressed('arrowdown');\n    this.inputState.left = this.isKeyPressed('a') || this.isKeyPressed('arrowleft');\n    this.inputState.right = this.isKeyPressed('d') || this.isKeyPressed('arrowright');\n\n    // Actions\n    this.inputState.jump = this.isKeyPressed(' ') || this.isKeyPressed('space');\n    this.inputState.sprint = this.isKeyPressed('shift');\n    this.inputState.interact = this.isKeyPressed('e') || this.isKeyPressed('f');\n  }\n\n  /**\n   * Check if a key is currently pressed\n   */\n  private isKeyPressed(key: string): boolean {\n    return this.keyMap.get(key.toLowerCase()) ?? false;\n  }\n\n  /**\n   * Get current input state\n   */\n  getInputState(): Readonly<IInputState> {\n    return { ...this.inputState };\n  }\n\n  /**\n   * Check if forward movement is requested\n   */\n  isMovingForward(): boolean {\n    return this.inputState.forward;\n  }\n\n  /**\n   * Check if backward movement is requested\n   */\n  isMovingBackward(): boolean {\n    return this.inputState.backward;\n  }\n\n  /**\n   * Check if left movement is requested\n   */\n  isMovingLeft(): boolean {\n    return this.inputState.left;\n  }\n\n  /**\n   * Check if right movement is requested\n   */\n  isMovingRight(): boolean {\n    return this.inputState.right;\n  }\n\n  /**\n   * Check if jump is requested\n   */\n  isJumping(): boolean {\n    return this.inputState.jump;\n  }\n\n  /**\n   * Check if sprint is requested\n   */\n  isSprinting(): boolean {\n    return this.inputState.sprint;\n  }\n\n  /**\n   * Check if interact is requested\n   */\n  isInteracting(): boolean {\n    return this.inputState.interact;\n  }\n\n  /**\n   * Check if any movement input is active\n   */\n  isMoving(): boolean {\n    return (\n      this.inputState.forward ||\n      this.inputState.backward ||\n      this.inputState.left ||\n      this.inputState.right\n    );\n  }\n\n  /**\n   * Get mouse position\n   */\n  getMousePosition(): { x: number; y: number } {\n    return {\n      x: this.inputState.mouseX,\n      y: this.inputState.mouseY,\n    };\n  }\n\n  /**\n   * Reset all input states\n   */\n  reset(): void {\n    this.keyMap.clear();\n    this.inputState = {\n      forward: false,\n      backward: false,\n      left: false,\n      right: false,\n      jump: false,\n      sprint: false,\n      interact: false,\n      mouseX: 0,\n      mouseY: 0,\n      mouseLeftClick: false,\n      mouseRightClick: false,\n    };\n  }\n\n  /**\n   * Clean up resources\n   */\n  dispose(): void {\n    this.keyMap.clear();\n  }\n}\n","import {\n  Scene,\n  Vector3,\n  MeshBuilder,\n  StandardMaterial,\n  Color3,\n  DirectionalLight,\n  ShadowGenerator,\n} from '@babylonjs/core';\nimport { InputManager } from '@infrastructure/babylon/InputManager';\n\n/**\n * Main game scene that sets up the 3D environment\n */\nexport class GameScene {\n  private scene: Scene;\n  private inputManager: InputManager;\n\n  constructor(scene: Scene) {\n    this.scene = scene;\n    this.inputManager = new InputManager(scene);\n    this.setupEnvironment();\n  }\n\n  /**\n   * Set up the game environment\n   */\n  private setupEnvironment(): void {\n    this.createGround();\n    this.createLighting();\n    this.createPlaceholderPlayer();\n  }\n\n  /**\n   * Create ground plane\n   */\n  private createGround(): void {\n    const ground = MeshBuilder.CreateGround(\n      'ground',\n      { width: 100, height: 100, subdivisions: 10 },\n      this.scene\n    );\n\n    const groundMaterial = new StandardMaterial('groundMaterial', this.scene);\n    groundMaterial.diffuseColor = new Color3(0.8, 0.9, 0.8); // Light green\n    groundMaterial.specularColor = new Color3(0.2, 0.2, 0.2);\n\n    ground.material = groundMaterial;\n    ground.receiveShadows = true;\n  }\n\n  /**\n   * Create lighting and shadows\n   */\n  private createLighting(): void {\n    // Directional light for sun\n    const sunLight = new DirectionalLight('sunLight', new Vector3(-1, -2, -1), this.scene);\n    sunLight.position = new Vector3(20, 40, 20);\n    sunLight.intensity = 1.0;\n\n    // Shadow generator\n    const shadowGenerator = new ShadowGenerator(1024, sunLight);\n    shadowGenerator.useBlurExponentialShadowMap = true;\n    shadowGenerator.blurKernel = 32;\n\n    // Store shadow generator for later use\n    (this.scene as Scene & { shadowGenerator?: ShadowGenerator }).shadowGenerator = shadowGenerator;\n  }\n\n  /**\n   * Create placeholder player (cube)\n   * This will be replaced with a proper character model\n   */\n  private createPlaceholderPlayer(): void {\n    const player = MeshBuilder.CreateBox('player', { size: 2 }, this.scene);\n    player.position = new Vector3(0, 1, 0);\n\n    const playerMaterial = new StandardMaterial('playerMaterial', this.scene);\n    playerMaterial.diffuseColor = new Color3(0.2, 0.4, 0.8); // Blue\n    player.material = playerMaterial;\n\n    // Add to shadow casters\n    const shadowGenerator = (this.scene as Scene & { shadowGenerator?: ShadowGenerator })\n      .shadowGenerator;\n    if (shadowGenerator) {\n      shadowGenerator.addShadowCaster(player);\n    }\n\n    // Store player reference\n    (this.scene as Scene & { player?: typeof player }).player = player;\n  }\n\n  /**\n   * Update scene (called every frame)\n   */\n  update(deltaTime: number): void {\n    this.handlePlayerMovement(deltaTime);\n  }\n\n  /**\n   * Handle player movement based on input\n   */\n  private handlePlayerMovement(deltaTime: number): void {\n    const player = (this.scene as Scene & { player?: { position: Vector3; rotation?: Vector3 } })\n      .player;\n    if (!player) return;\n\n    const speed = this.inputManager.isSprinting() ? 6 : 3;\n    const moveDistance = speed * deltaTime;\n\n    const direction = new Vector3(0, 0, 0);\n\n    if (this.inputManager.isMovingForward()) {\n      direction.z += 1;\n    }\n    if (this.inputManager.isMovingBackward()) {\n      direction.z -= 1;\n    }\n    if (this.inputManager.isMovingLeft()) {\n      direction.x -= 1;\n    }\n    if (this.inputManager.isMovingRight()) {\n      direction.x += 1;\n    }\n\n    // Normalize and apply movement\n    if (direction.length() > 0) {\n      direction.normalize();\n      player.position.addInPlace(direction.scaleInPlace(moveDistance));\n\n      // Rotate player to face movement direction\n      if (player.rotation) {\n        player.rotation.y = Math.atan2(direction.x, direction.z);\n      }\n\n      // Add a small bounce effect to show movement\n      const bounceAmount = Math.sin(Date.now() * 0.01) * 0.1;\n      player.position.y = 1 + Math.abs(bounceAmount);\n    }\n\n    // Keep camera focused on player (smooth follow)\n    if (this.scene.activeCamera) {\n      const camera = this.scene.activeCamera as { target?: Vector3 };\n      if (camera.target) {\n        // Smooth camera follow using linear interpolation\n        camera.target = Vector3.Lerp(camera.target, player.position, 0.1);\n      }\n    }\n  }\n\n  /**\n   * Get input manager\n   */\n  getInputManager(): InputManager {\n    return this.inputManager;\n  }\n\n  /**\n   * Get the scene\n   */\n  getScene(): Scene {\n    return this.scene;\n  }\n\n  /**\n   * Clean up resources\n   */\n  dispose(): void {\n    this.inputManager.dispose();\n  }\n}\n","/**\n * Immutable value object representing survival statistics\n */\nexport class Stats {\n  private constructor(\n    public readonly health: number,\n    public readonly maxHealth: number,\n    public readonly hunger: number,\n    public readonly maxHunger: number,\n    public readonly thirst: number,\n    public readonly maxThirst: number,\n    public readonly temperature: number,\n    public readonly stamina: number,\n    public readonly maxStamina: number\n  ) {\n    this.validateStats();\n  }\n\n  private validateStats(): void {\n    if (this.health < 0 || this.health > this.maxHealth) {\n      throw new Error('Health must be between 0 and maxHealth');\n    }\n    if (this.hunger < 0 || this.hunger > this.maxHunger) {\n      throw new Error('Hunger must be between 0 and maxHunger');\n    }\n    if (this.thirst < 0 || this.thirst > this.maxThirst) {\n      throw new Error('Thirst must be between 0 and maxThirst');\n    }\n    if (this.stamina < 0 || this.stamina > this.maxStamina) {\n      throw new Error('Stamina must be between 0 and maxStamina');\n    }\n  }\n\n  static create(\n    health: number,\n    maxHealth: number,\n    hunger: number = 100,\n    maxHunger: number = 100,\n    thirst: number = 100,\n    maxThirst: number = 100,\n    temperature: number = 37,\n    stamina: number = 100,\n    maxStamina: number = 100\n  ): Stats {\n    return new Stats(\n      health,\n      maxHealth,\n      hunger,\n      maxHunger,\n      thirst,\n      maxThirst,\n      temperature,\n      stamina,\n      maxStamina\n    );\n  }\n\n  /**\n   * Returns a new Stats instance with updated health\n   */\n  withHealth(health: number): Stats {\n    return new Stats(\n      Math.max(0, Math.min(health, this.maxHealth)),\n      this.maxHealth,\n      this.hunger,\n      this.maxHunger,\n      this.thirst,\n      this.maxThirst,\n      this.temperature,\n      this.stamina,\n      this.maxStamina\n    );\n  }\n\n  /**\n   * Returns a new Stats instance with updated hunger\n   */\n  withHunger(hunger: number): Stats {\n    return new Stats(\n      this.health,\n      this.maxHealth,\n      Math.max(0, Math.min(hunger, this.maxHunger)),\n      this.maxHunger,\n      this.thirst,\n      this.maxThirst,\n      this.temperature,\n      this.stamina,\n      this.maxStamina\n    );\n  }\n\n  /**\n   * Returns a new Stats instance with updated thirst\n   */\n  withThirst(thirst: number): Stats {\n    return new Stats(\n      this.health,\n      this.maxHealth,\n      this.hunger,\n      this.maxHunger,\n      Math.max(0, Math.min(thirst, this.maxThirst)),\n      this.maxThirst,\n      this.temperature,\n      this.stamina,\n      this.maxStamina\n    );\n  }\n\n  /**\n   * Returns a new Stats instance with updated temperature\n   */\n  withTemperature(temperature: number): Stats {\n    return new Stats(\n      this.health,\n      this.maxHealth,\n      this.hunger,\n      this.maxHunger,\n      this.thirst,\n      this.maxThirst,\n      temperature,\n      this.stamina,\n      this.maxStamina\n    );\n  }\n\n  /**\n   * Returns a new Stats instance with updated stamina\n   */\n  withStamina(stamina: number): Stats {\n    return new Stats(\n      this.health,\n      this.maxHealth,\n      this.hunger,\n      this.maxHunger,\n      this.thirst,\n      this.maxThirst,\n      this.temperature,\n      Math.max(0, Math.min(stamina, this.maxStamina)),\n      this.maxStamina\n    );\n  }\n\n  /**\n   * Check if character is alive\n   */\n  isAlive(): boolean {\n    return this.health > 0;\n  }\n\n  /**\n   * Check if character is critically cold (hypothermia risk)\n   */\n  isCriticallyHot(): boolean {\n    return this.temperature < 35 || this.temperature > 40;\n  }\n\n  /**\n   * Check if character is starving\n   */\n  isStarving(): boolean {\n    return this.hunger <= 20;\n  }\n\n  /**\n   * Check if character is dehydrated\n   */\n  isDehydrated(): boolean {\n    return this.thirst <= 20;\n  }\n}\n","/**\n * Immutable value object representing a 3D position\n */\nexport class Position {\n  private constructor(\n    public readonly x: number,\n    public readonly y: number,\n    public readonly z: number\n  ) {}\n\n  static create(x: number, y: number, z: number): Position {\n    return new Position(x, y, z);\n  }\n\n  static zero(): Position {\n    return new Position(0, 0, 0);\n  }\n\n  /**\n   * Calculate distance to another position\n   */\n  distanceTo(other: Position): number {\n    const dx = this.x - other.x;\n    const dy = this.y - other.y;\n    const dz = this.z - other.z;\n    return Math.sqrt(dx * dx + dy * dy + dz * dz);\n  }\n\n  /**\n   * Create a new position by adding a delta\n   */\n  add(dx: number, dy: number, dz: number): Position {\n    return new Position(this.x + dx, this.y + dy, this.z + dz);\n  }\n\n  /**\n   * Check if two positions are equal (with optional tolerance)\n   */\n  equals(other: Position, tolerance: number = 0.001): boolean {\n    return (\n      Math.abs(this.x - other.x) < tolerance &&\n      Math.abs(this.y - other.y) < tolerance &&\n      Math.abs(this.z - other.z) < tolerance\n    );\n  }\n\n  /**\n   * Convert to array format [x, y, z]\n   */\n  toArray(): [number, number, number] {\n    return [this.x, this.y, this.z];\n  }\n\n  /**\n   * Convert to string representation\n   */\n  toString(): string {\n    return `Position(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.z.toFixed(2)})`;\n  }\n}\n","import { Stats } from '../value-objects/Stats';\nimport { Position } from '../value-objects/Position';\nimport { CharacterClass } from '@shared/constants/GameConstants';\n\n/**\n * Unique identifier for game entities\n */\nexport type EntityId = string;\n\n/**\n * Character entity representing a playable survivor\n * Pure domain logic - no framework dependencies\n */\nexport class Character {\n  private constructor(\n    public readonly id: EntityId,\n    public readonly characterClass: CharacterClass,\n    public readonly name: string,\n    private _stats: Stats,\n    private _position: Position,\n    private _isAlive: boolean = true\n  ) {}\n\n  static create(\n    id: EntityId,\n    characterClass: CharacterClass,\n    name: string,\n    stats: Stats,\n    position: Position = Position.zero()\n  ): Character {\n    return new Character(id, characterClass, name, stats, position);\n  }\n\n  // Getters\n  get stats(): Stats {\n    return this._stats;\n  }\n\n  get position(): Position {\n    return this._position;\n  }\n\n  get isAlive(): boolean {\n    return this._isAlive;\n  }\n\n  /**\n   * Update character stats\n   */\n  updateStats(newStats: Stats): Character {\n    this._stats = newStats;\n    this._isAlive = newStats.isAlive();\n    return this;\n  }\n\n  /**\n   * Move character to new position\n   */\n  moveTo(newPosition: Position): Character {\n    this._position = newPosition;\n    return this;\n  }\n\n  /**\n   * Apply damage to character\n   */\n  takeDamage(amount: number): Character {\n    const newStats = this._stats.withHealth(this._stats.health - amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Heal character\n   */\n  heal(amount: number): Character {\n    const newStats = this._stats.withHealth(this._stats.health + amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Consume food to restore hunger\n   */\n  eat(amount: number): Character {\n    const newStats = this._stats.withHunger(this._stats.hunger + amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Drink to restore thirst\n   */\n  drink(amount: number): Character {\n    const newStats = this._stats.withThirst(this._stats.thirst + amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Update body temperature\n   */\n  updateTemperature(newTemp: number): Character {\n    const newStats = this._stats.withTemperature(newTemp);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Use stamina (e.g., for sprinting)\n   */\n  useStamina(amount: number): Character {\n    const newStats = this._stats.withStamina(this._stats.stamina - amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Regenerate stamina\n   */\n  regenStamina(amount: number): Character {\n    const newStats = this._stats.withStamina(this._stats.stamina + amount);\n    return this.updateStats(newStats);\n  }\n\n  /**\n   * Check if character can perform an action requiring stamina\n   */\n  canUseStamina(amount: number): boolean {\n    return this._stats.stamina >= amount;\n  }\n\n  /**\n   * Get character status summary\n   */\n  getStatusSummary(): {\n    isAlive: boolean;\n    isCritical: boolean;\n    needsFood: boolean;\n    needsWater: boolean;\n    needsWarmth: boolean;\n  } {\n    return {\n      isAlive: this._isAlive,\n      isCritical: this._stats.health <= 20,\n      needsFood: this._stats.isStarving(),\n      needsWater: this._stats.isDehydrated(),\n      needsWarmth: this._stats.isCriticallyHot(),\n    };\n  }\n\n  /**\n   * Serialize character for persistence\n   */\n  toJSON(): Record<string, unknown> {\n    return {\n      id: this.id,\n      characterClass: this.characterClass,\n      name: this.name,\n      stats: {\n        health: this._stats.health,\n        maxHealth: this._stats.maxHealth,\n        hunger: this._stats.hunger,\n        maxHunger: this._stats.maxHunger,\n        thirst: this._stats.thirst,\n        maxThirst: this._stats.maxThirst,\n        temperature: this._stats.temperature,\n        stamina: this._stats.stamina,\n        maxStamina: this._stats.maxStamina,\n      },\n      position: {\n        x: this._position.x,\n        y: this._position.y,\n        z: this._position.z,\n      },\n      isAlive: this._isAlive,\n    };\n  }\n\n  /**\n   * Deserialize character from saved data\n   */\n  static fromJSON(data: Record<string, unknown>): Character {\n    const statsData = data['stats'] as Record<string, number>;\n    const posData = data['position'] as Record<string, number>;\n\n    const stats = Stats.create(\n      statsData['health'] ?? 100,\n      statsData['maxHealth'] ?? 100,\n      statsData['hunger'] ?? 100,\n      statsData['maxHunger'] ?? 100,\n      statsData['thirst'] ?? 100,\n      statsData['maxThirst'] ?? 100,\n      statsData['temperature'] ?? 37,\n      statsData['stamina'] ?? 100,\n      statsData['maxStamina'] ?? 100\n    );\n\n    const position = Position.create(\n      posData['x'] ?? 0,\n      posData['y'] ?? 0,\n      posData['z'] ?? 0\n    );\n\n    return new Character(\n      data['id'] as EntityId,\n      data['characterClass'] as CharacterClass,\n      data['name'] as string,\n      stats,\n      position,\n      (data['isAlive'] as boolean) ?? true\n    );\n  }\n}\n","/**\n * Core game constants and configuration values\n */\n\nexport const GAME_CONFIG = {\n  // Time settings (in seconds)\n  DAY_CYCLE_DURATION: 600, // 10 minutes per full day\n  DAY_DURATION: 420, // 7 minutes of daylight\n  NIGHT_DURATION: 180, // 3 minutes of night\n\n  // Survival settings\n  HUNGER_DEPLETION_RATE: 1, // Points per minute\n  THIRST_DEPLETION_RATE: 1.5, // Points per minute\n  STAMINA_REGEN_RATE: 10, // Points per second when idle\n  STAMINA_SPRINT_COST: 20, // Points per second when sprinting\n\n  // Temperature settings\n  NORMAL_BODY_TEMP: 37, // Celsius\n  HYPOTHERMIA_THRESHOLD: 35,\n  HYPERTHERMIA_THRESHOLD: 40,\n  BASE_COOLING_RATE: 0.5, // Degrees per minute in cold\n  BASE_WARMING_RATE: 1, // Degrees per minute near fire\n\n  // Environment\n  DAY_TEMPERATURE: -5, // Celsius during day\n  NIGHT_TEMPERATURE: -20, // Celsius during night\n  BLIZZARD_TEMPERATURE: -30, // Celsius during blizzard\n} as const;\n\nexport const CHARACTER_STATS = {\n  BASE_HEALTH: 100,\n  BASE_HUNGER: 100,\n  BASE_THIRST: 100,\n  BASE_STAMINA: 100,\n} as const;\n\nexport const MOVEMENT_SPEEDS = {\n  WALK: 3,\n  RUN: 6,\n  SPRINT: 9,\n} as const;\n\nexport const ITEM_TYPES = {\n  TOOL: 'tool',\n  WEAPON: 'weapon',\n  FOOD: 'food',\n  MATERIAL: 'material',\n  CLOTHING: 'clothing',\n} as const;\n\nexport const RESOURCE_TYPES = {\n  WOOD: 'wood',\n  STONE: 'stone',\n  FOOD: 'food',\n  WATER: 'water',\n} as const;\n\nexport enum CharacterClass {\n  SURVIVOR = 'survivor',\n  HUNTER = 'hunter',\n  ENGINEER = 'engineer',\n  MEDIC = 'medic',\n  SCOUT = 'scout',\n  SOLDIER = 'soldier',\n  COOK = 'cook',\n  SCIENTIST = 'scientist',\n}\n\nexport enum WeatherType {\n  CLEAR = 'clear',\n  CLOUDY = 'cloudy',\n  SNOWING = 'snowing',\n  BLIZZARD = 'blizzard',\n}\n\nexport enum TimeOfDay {\n  DAWN = 'dawn',\n  DAY = 'day',\n  DUSK = 'dusk',\n  NIGHT = 'night',\n}\n","import { BabylonEngine } from '@infrastructure/babylon/BabylonEngine';\nimport { GameScene } from '@presentation/scenes/GameScene';\nimport { Character } from '@domain/entities/Character';\nimport { Stats } from '@domain/value-objects/Stats';\nimport { CharacterClass, CHARACTER_STATS } from '@shared/constants/GameConstants';\n\n/**\n * Main application entry point\n */\nclass Application {\n  private engine: BabylonEngine;\n  private gameScene: GameScene | null = null;\n  private character: Character | null = null;\n  private updateInterval: number | null = null;\n\n  constructor() {\n    this.engine = new BabylonEngine();\n  }\n\n  /**\n   * Initialize the application\n   */\n  async initialize(): Promise<void> {\n    console.log('Initializing Wild Survival Game...');\n\n    // Get canvas\n    const canvas = document.getElementById('renderCanvas') as HTMLCanvasElement;\n    if (!canvas) {\n      throw new Error('Canvas element not found');\n    }\n\n    // Initialize Babylon.js engine\n    this.engine.initialize(canvas);\n    console.log('Engine initialized');\n\n    // Create scene\n    const scene = this.engine.createScene();\n    console.log('Scene created');\n\n    // Initialize game scene\n    this.gameScene = new GameScene(scene);\n    console.log('Game scene initialized');\n\n    // Create player character\n    this.character = Character.create(\n      'player_1',\n      CharacterClass.SURVIVOR,\n      'Player',\n      Stats.create(\n        CHARACTER_STATS.BASE_HEALTH,\n        CHARACTER_STATS.BASE_HEALTH,\n        CHARACTER_STATS.BASE_HUNGER,\n        CHARACTER_STATS.BASE_HUNGER,\n        CHARACTER_STATS.BASE_THIRST,\n        CHARACTER_STATS.BASE_THIRST,\n        37, // Normal body temperature\n        CHARACTER_STATS.BASE_STAMINA,\n        CHARACTER_STATS.BASE_STAMINA\n      )\n    );\n    console.log('Character created:', this.character.name);\n\n    // Start render loop\n    this.engine.startRenderLoop(scene, (deltaTime) => {\n      this.update(deltaTime);\n    });\n\n    // Start survival mechanics update (every second)\n    this.updateInterval = window.setInterval(() => {\n      this.updateSurvivalMechanics();\n    }, 1000);\n\n    // Hide loading screen\n    this.hideLoadingScreen();\n\n    console.log('Application initialized successfully');\n  }\n\n  /**\n   * Update game state (called every frame)\n   */\n  private update(deltaTime: number): void {\n    if (this.gameScene) {\n      this.gameScene.update(deltaTime);\n    }\n\n    // Update UI\n    this.updateUI();\n  }\n\n  /**\n   * Update survival mechanics (called every second)\n   */\n  private updateSurvivalMechanics(): void {\n    if (!this.character || !this.character.isAlive) {\n      return;\n    }\n\n    // Deplete hunger (1 point per minute = 1/60 per second)\n    const newHunger = this.character.stats.hunger - 1 / 60;\n    this.character = this.character.updateStats(this.character.stats.withHunger(newHunger));\n\n    // Deplete thirst (1.5 points per minute = 1.5/60 per second)\n    const newThirst = this.character.stats.thirst - 1.5 / 60;\n    this.character = this.character.updateStats(this.character.stats.withThirst(newThirst));\n\n    // Regenerate stamina if not moving\n    const inputManager = this.gameScene?.getInputManager();\n    if (inputManager && !inputManager.isMoving() && !inputManager.isSprinting()) {\n      const newStamina = Math.min(\n        this.character.stats.stamina + 10 / 60,\n        this.character.stats.maxStamina\n      );\n      this.character = this.character.updateStats(this.character.stats.withStamina(newStamina));\n    }\n\n    // Check for starvation/dehydration damage\n    if (this.character.stats.isStarving()) {\n      this.character = this.character.takeDamage(0.5);\n    }\n\n    if (this.character.stats.isDehydrated()) {\n      this.character = this.character.takeDamage(0.5);\n    }\n\n    // Log status changes\n    const status = this.character.getStatusSummary();\n    if (status.needsFood || status.needsWater) {\n      console.warn('Character needs:', {\n        food: status.needsFood,\n        water: status.needsWater,\n      });\n    }\n  }\n\n  /**\n   * Update UI elements\n   */\n  private updateUI(): void {\n    if (!this.character) return;\n\n    const stats = this.character.stats;\n\n    // Update health\n    this.updateStatBar('health', stats.health, stats.maxHealth);\n\n    // Update hunger\n    this.updateStatBar('hunger', stats.hunger, stats.maxHunger);\n\n    // Update thirst\n    this.updateStatBar('thirst', stats.thirst, stats.maxThirst);\n\n    // Update stamina\n    this.updateStatBar('stamina', stats.stamina, stats.maxStamina);\n  }\n\n  /**\n   * Update a stat bar in the UI\n   */\n  private updateStatBar(statName: string, current: number, max: number): void {\n    const valueElement = document.getElementById(`${statName}-value`);\n    const barElement = document.getElementById(`${statName}-bar`);\n\n    if (valueElement) {\n      valueElement.textContent = Math.round(current).toString();\n    }\n\n    if (barElement) {\n      const percentage = (current / max) * 100;\n      barElement.style.width = `${Math.max(0, Math.min(100, percentage))}%`;\n    }\n  }\n\n  /**\n   * Hide loading screen\n   */\n  private hideLoadingScreen(): void {\n    const loadingElement = document.getElementById('loading');\n    if (loadingElement) {\n      loadingElement.classList.add('hidden');\n      setTimeout(() => {\n        loadingElement.style.display = 'none';\n      }, 500);\n    }\n  }\n\n  /**\n   * Clean up resources\n   */\n  dispose(): void {\n    if (this.updateInterval !== null) {\n      clearInterval(this.updateInterval);\n    }\n    this.gameScene?.dispose();\n    this.engine.dispose();\n  }\n}\n\n// Initialize application when DOM is ready\nwindow.addEventListener('DOMContentLoaded', () => {\n  const app = new Application();\n  app\n    .initialize()\n    .catch((error) => {\n      console.error('Failed to initialize application:', error);\n    });\n\n  // Clean up on page unload\n  window.addEventListener('beforeunload', () => {\n    app.dispose();\n  });\n});\n"],"names":["BabylonEngine","canvas","Engine","scene","Scene","Color4","light","HemisphericLight","Vector3","camera","ArcRotateCamera","onUpdate","lastTime","currentTime","deltaTime","InputManager","kbInfo","key","isPressed","pointerInfo","GameScene","ground","MeshBuilder","groundMaterial","StandardMaterial","Color3","sunLight","DirectionalLight","shadowGenerator","ShadowGenerator","player","playerMaterial","moveDistance","direction","bounceAmount","Stats","health","maxHealth","hunger","maxHunger","thirst","maxThirst","temperature","stamina","maxStamina","Position","x","y","z","other","dx","dy","dz","tolerance","Character","id","characterClass","name","_stats","_position","_isAlive","stats","position","newStats","newPosition","amount","newTemp","data","statsData","posData","CHARACTER_STATS","CharacterClass","Application","newHunger","newThirst","inputManager","newStamina","status","statName","current","max","valueElement","barElement","percentage","loadingElement","app","error"],"mappings":"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"}